
# SQL テスト問題

## 問題1

以下のSQL文を使用して `items` テーブルにデータを挿入してください。

```sql
INSERT INTO
  items (id, category_id, name, price)
VALUES
  (13, 1, '鰯', 150);

INSERT INTO
  items (id, category_id, name, price)
VALUES
  (14, 2, '羊', 650);
```

または、別解として以下のSQL文を使用して一度に複数のデータを挿入することもできます。

```sql
INSERT INTO
  items (id, category_id, name, price)
VALUES
  (13, 1, '鰯', 150),
  (14, 2, '羊', 650);
```

## 解説

### SQL文の読み解き方と考え方

この問題では、`items` テーブルに新しいアイテムを挿入することが求められています。`items` テーブルには `id`、`category_id`、`name`、`price` という4つのカラムがあります。それぞれのカラムに対応する値を挿入する必要があります。

1. `id`: アイテムの一意な識別子
2. `category_id`: カテゴリの識別子（`categories` テーブルの `id` に対応）
3. `name`: アイテムの名前
4. `price`: アイテムの価格

### 各処理についての丁寧な解説

#### 挿入処理の個別実行

最初の方法では、2つのアイテムを別々の `INSERT INTO` 文を使って挿入しています。

```sql
INSERT INTO
  items (id, category_id, name, price)
VALUES
  (13, 1, '鰯', 150);
```

このSQL文は、`id` が `13`、`category_id` が `1`、`name` が `鰯`、`price` が `150` のアイテムを `items` テーブルに挿入します。同様に、2つ目のアイテムを挿入します。

```sql
INSERT INTO
  items (id, category_id, name, price)
VALUES
  (14, 2, '羊', 650);
```

#### 複数の値を一度に挿入する

2つ目の方法では、1つの `INSERT INTO` 文を使用して複数のアイテムを同時に挿入します。

```sql
INSERT INTO
  items (id, category_id, name, price)
VALUES
  (13, 1, '鰯', 150),
  (14, 2, '羊', 650);
```

この方法では、カラム名の後に続く `VALUES` 句の中にカンマで区切った複数の値のセットを指定します。この方法は効率的で、複数のレコードを一度に挿入する場合に便利です。

### 効率的な短いコードでの回答作成

2つ目の方法がより効率的であり、複数のレコードを挿入する際のベストプラクティスとされています。この方法では、データベースに対する操作が1回で済み、パフォーマンスが向上します。

### 入出力の例

例えば、以下のようなテーブルがあるとします。

| id | category_id | name | price |
|----|-------------|------|-------|
| 1  | 1           | 鮪   | 1000  |
| 2  | 1           | 鯛   | 800   |

ここに以下のSQL文を実行します。

```sql
INSERT INTO
  items (id, category_id, name, price)
VALUES
  (13, 1, '鰯', 150),
  (14, 2, '羊', 650);
```

実行後、`items` テーブルは次のようになります。

| id | category_id | name | price |
|----|-------------|------|-------|
| 1  | 1           | 鮪   | 1000  |
| 2  | 1           | 鯛   | 800   |
| 13 | 1           | 鰯   | 150   |
| 14 | 2           | 羊   | 650   |

これで、テーブルに新しいレコードが正しく挿入されていることが確認できます。

---

このように、SQL文の実行結果やテーブルの変化を具体的に示すことで、理解が深まります。効率的な方法を採用することで、実際のデータベース操作のパフォーマンスも向上します。
