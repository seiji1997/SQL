
# SQL テスト問題

## 問題3

以下のSQL文を使用して `employees` テーブルから特定の条件に一致するデータを削除してください。

```sql
DELETE FROM employees
WHERE
  end_date <= '2013-03-31';
```

## 解説

### SQL文の読み解き方と考え方

この問題では、`employees` テーブルから `end_date` が `2013-03-31` 以下の全てのレコードを削除する必要があります。

### 各処理についての丁寧な解説

#### データの削除処理

`DELETE` 文は、テーブルから特定の条件に一致するレコードを削除するために使用されます。

```sql
DELETE FROM employees
WHERE
  end_date <= '2013-03-31';
```

- `DELETE FROM employees`: `employees` テーブルからレコードを削除することを指定しています。
- `WHERE end_date <= '2013-03-31'`: `end_date` が `2013-03-31` 以下のレコードを削除します。

この操作により、指定した日付以前に終了した全ての従業員のデータが削除されます。

### 効率的な短いコードでの回答作成

この `DELETE` 文は簡潔で効率的です。1つの SQL 文で全ての該当するレコードを削除できます。

### 入出力の例

例えば、以下のようなテーブルがあるとします。

| id | name    | email              | start_date | end_date   |
|----|---------|--------------------|------------|------------|
| 1  | ツヤコ  | tsuyako@example.com| 2000-04-02 | NULL       |
| 2  | チュウジ| choji@example.com  | 2000-06-03 | 2003-09-30 |
| 3  | カツノリ| katsunori@example.com| 2000-08-02 | NULL       |
| 4  | ランポ  | ranpo@example.com  | 2001-05-01 | 2005-06-30 |

ここに以下のSQL文を実行します。

```sql
DELETE FROM employees
WHERE
  end_date <= '2013-03-31';
```

実行後、`employees` テーブルは次のようになります。

| id | name    | email              | start_date | end_date |
|----|---------|--------------------|------------|----------|
| 1  | ツヤコ  | tsuyako@example.com| 2000-04-02 | NULL     |
| 3  | カツノリ| katsunori@example.com| 2000-08-02 | NULL     |

これで、テーブルから指定した条件に一致するレコードが正しく削除されていることが確認できます。

---

このように、SQL文の実行結果やテーブルの変化を具体的に示すことで、理解が深まります。効率的な方法を採用することで、実際のデータベース操作のパフォーマンスも向上します。
